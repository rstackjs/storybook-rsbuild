{
	"$schema": "https://docs.renovatebot.com/renovate-schema.json",
	"timezone": "Asia/Shanghai",
	"extends": ["config:recommended", "schedule:weekly"],
	"ignorePaths": ["**/tests/**", "**/node_modules/**", "scripts/**"],
	"packageRules": [
		// Use chore as semantic commit type for commit messages
		{
			"matchPackageNames": ["**"],
			"semanticCommitType": "chore",
			// always bump package.json
			"rangeStrategy": "bump"
		},
		{
			"groupName": "react-16 (allow non-major, block major)",
			"groupSlug": "react-16-keep-major",
			"matchFileNames": ["sandboxes/react-16/package.json"],
			"matchPackageNames": ["react", "react-dom", "@types/react", "@types/react-dom"],
			"allowedVersions": "<17.0.0",
			"rangeStrategy": "replace",
			"separateMajorMinor": false,
			"separateMinorPatch": false
		},
		{
			"groupName": "storybook",
			"groupSlug": "storybook",
			"matchManagers": ["npm"],
			"matchPackagePatterns": ["^storybook$", "^@storybook/"],
			"matchDepTypes": ["dependencies", "devDependencies"],
			"rangeStrategy": "replace",
			"separateMajorMinor": false,
			"separateMinorPatch": false,
			"separateMultipleMajor": false
		},
		{
			"groupName": "rspress",
			"matchPackageNames": ["@rspress/**"],
			"groupSlug": "rspress",
			"extends": ["schedule:daily"]
		},
		{
			"groupName": "all non-major dependencies",
			"groupSlug": "all-non-major",
			"matchUpdateTypes": ["patch", "minor"],
			"excludePackagePatterns": ["^storybook$", "^@storybook/"]
		},
		// manually update peer dependencies
		{
			"depTypeList": ["peerDependencies"],
			"enabled": false
		}
	],
	"ignoreDeps": [
		// manually update some packages
		"pnpm",
		"esbuild",
		// align Node.js version minimum requirements
		"@types/node",
		"node",
	]
}
